(ctable <- cbind(ctable, "p value" = p))
print('exp(coefficient of spatial and post_tran)')
exp(coef(ord_m))
print('pseudo R2')
PseudoR2(ord_m)
print('BIC')
BIC(ord_m)
rater_data <- read.csv('./photodraw_summary_f1.csv')
rater_data$post_tran = scale(rater_data$post_tran)
rater_data$spatial = scale(rater_data$spatial)
rater_data$overall = rater_data$spatial + rater_data$post_tran
ggplot(rater_data, aes(post_tran, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
ggplot(rater_data, aes(spatial, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("spatial error") +
ylab("human judgment") +
ggtitle('Spatial Error vs. Human judgment')
ggplot(rater_data, aes(overall, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("shape+spatial error") +
ylab("human judgment") +
ggtitle('Shape+Spatial Error vs. Human judgment')
cor.test(rater_data$post_tran, rater_data$rater1)
cor.test(rater_data$spatial, rater_data$rater1)
cor.test(rater_data$overall, rater_data$rater1)
rater_data$rater1 <- factor(rater_data$rater1, levels = c("0", "1", "2", "3", "4"), ordered=TRUE)
ord_m <- polr(rater1 ~ spatial + post_tran, rater_data, Hess=TRUE)
summary(ord_m)
ctable <- coef(summary(ord_m))
p <- pnorm(abs(ctable[, "t value"]), lower.tail = FALSE) * 2
(ctable <- cbind(ctable, "p value" = p))
print('exp(coefficient of spatial and post_tran)')
exp(coef(ord_m))
print('pseudo R2')
PseudoR2(ord_m)
print('BIC')
BIC(ord_m)
rater_data <- read.csv('./photodraw_summary_ncc.csv')
rater_data$post_tran = scale(rater_data$post_tran)
rater_data$spatial = scale(rater_data$spatial)
rater_data$overall = rater_data$spatial + rater_data$post_tran
ggplot(rater_data, aes(post_tran, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
ggplot(rater_data, aes(spatial, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("spatial error") +
ylab("human judgment") +
ggtitle('Spatial Error vs. Human judgment')
ggplot(rater_data, aes(overall, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("shape+spatial error") +
ylab("human judgment") +
ggtitle('Shape+Spatial Error vs. Human judgment')
cor.test(rater_data$post_tran, rater_data$rater1)
cor.test(rater_data$spatial, rater_data$rater1)
cor.test(rater_data$overall, rater_data$rater1)
rater_data$rater1 <- factor(rater_data$rater1, levels = c("0", "1", "2", "3", "4"), ordered=TRUE)
ord_m <- polr(rater1 ~ spatial + post_tran, rater_data, Hess=TRUE)
summary(ord_m)
ctable <- coef(summary(ord_m))
p <- pnorm(abs(ctable[, "t value"]), lower.tail = FALSE) * 2
(ctable <- cbind(ctable, "p value" = p))
print('exp(coefficient of spatial and post_tran)')
exp(coef(ord_m))
print('pseudo R2')
PseudoR2(ord_m)
print('BIC')
BIC(ord_m)
rater_data$rater1 <- factor(rater_data$rater1, levels = c("0", "1", "2", "3", "4"), ordered=TRUE)
ord_m <- polr(rater1 ~ spatial + post_tran, rater_data, Hess=TRUE)
summary(ord_m)
ctable <- coef(summary(ord_m))
p <- pnorm(abs(ctable[, "t value"]), lower.tail = FALSE) * 2
(ctable <- cbind(ctable, "p value" = p))
print('exp(coefficient of spatial and post_tran)')
exp(coef(ord_m))
print('pseudo R2')
PseudoR2(ord_m, 'all')
print('BIC')
BIC(ord_m)
library(MASS)
library(lme4)
library(tidyverse)
library(DescTools)
library(broom)
rater_data <- read.csv('./photodraw_summary_mse.csv')
rater_data$post_tran = scale(rater_data$post_tran)
rater_data$spatial = scale(rater_data$spatial)
rater_data$overall = rater_data$spatial + rater_data$post_tran
ggplot(rater_data, aes(post_tran, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
ggplot(rater_data, aes(spatial, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("spatial error") +
ylab("human judgment") +
ggtitle('Spatial Error vs. Human judgment')
ggplot(rater_data, aes(overall, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("shape+spatial error") +
ylab("human judgment") +
ggtitle('Shape+Spatial Error vs. Human judgment')
cor.test(rater_data$post_tran, rater_data$rater1)
cor.test(rater_data$spatial, rater_data$rater1)
cor.test(rater_data$overall, rater_data$rater1)
rater_data$rater1 <- factor(rater_data$rater1, levels = c("0", "1", "2", "3", "4"), ordered=TRUE)
ord_m <- polr(rater1 ~ spatial + post_tran, rater_data, Hess=TRUE)
summary(ord_m)
ctable <- coef(summary(ord_m))
p <- pnorm(abs(ctable[, "t value"]), lower.tail = FALSE) * 2
(ctable <- cbind(ctable, "p value" = p))
print('exp(coefficient of spatial and post_tran)')
exp(coef(ord_m))
print('pseudo R2')
PseudoR2(ord_m, 'all')
rater_data <- read.csv('./photodraw_summary_f1.csv')
rater_data$post_tran = scale(rater_data$post_tran)
rater_data$spatial = scale(rater_data$spatial)
rater_data$overall = rater_data$spatial + rater_data$post_tran
ggplot(rater_data, aes(post_tran, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
ggplot(rater_data, aes(spatial, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("spatial error") +
ylab("human judgment") +
ggtitle('Spatial Error vs. Human judgment')
ggplot(rater_data, aes(overall, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("shape+spatial error") +
ylab("human judgment") +
ggtitle('Shape+Spatial Error vs. Human judgment')
cor.test(rater_data$post_tran, rater_data$rater1)
cor.test(rater_data$spatial, rater_data$rater1)
cor.test(rater_data$overall, rater_data$rater1)
rater_data$rater1 <- factor(rater_data$rater1, levels = c("0", "1", "2", "3", "4"), ordered=TRUE)
ord_m <- polr(rater1 ~ spatial + post_tran, rater_data, Hess=TRUE)
summary(ord_m)
ctable <- coef(summary(ord_m))
p <- pnorm(abs(ctable[, "t value"]), lower.tail = FALSE) * 2
(ctable <- cbind(ctable, "p value" = p))
print('exp(coefficient of spatial and post_tran)')
exp(coef(ord_m))
print('pseudo R2')
PseudoR2(ord_m, 'all')
rater_data <- read.csv('./photodraw_summary_ncc.csv')
rater_data$post_tran = scale(rater_data$post_tran)
rater_data$spatial = scale(rater_data$spatial)
rater_data$overall = rater_data$spatial + rater_data$post_tran
ggplot(rater_data, aes(post_tran, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
ggplot(rater_data, aes(spatial, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("spatial error") +
ylab("human judgment") +
ggtitle('Spatial Error vs. Human judgment')
ggplot(rater_data, aes(overall, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("shape+spatial error") +
ylab("human judgment") +
ggtitle('Shape+Spatial Error vs. Human judgment')
cor.test(rater_data$post_tran, rater_data$rater1)
cor.test(rater_data$spatial, rater_data$rater1)
cor.test(rater_data$overall, rater_data$rater1)
rater_data$rater1 <- factor(rater_data$rater1, levels = c("0", "1", "2", "3", "4"), ordered=TRUE)
ord_m <- polr(rater1 ~ spatial + post_tran, rater_data, Hess=TRUE)
summary(ord_m)
ctable <- coef(summary(ord_m))
p <- pnorm(abs(ctable[, "t value"]), lower.tail = FALSE) * 2
(ctable <- cbind(ctable, "p value" = p))
print('exp(coefficient of spatial and post_tran)')
exp(coef(ord_m))
print('pseudo R2')
PseudoR2(ord_m, 'all')
library(rmarkdown)
render('pred_rating.Rmd')
getwd()
setwd("/Users/zixianchai/Desktop/compositionality/shapedraw/analysis/tracing")
render('pred_rating.Rmd')
rater_data <- read.csv('./photodraw_summary_mse.csv')
rater_data$post_tran = scale(rater_data$post_tran)
rater_data$spatial = scale(rater_data$spatial)
rater_data$overall = rater_data$spatial + rater_data$post_tran
cor.test(rater_data$post_tran, rater_data$rater1)
worse_score = rater_data[rater_data[, "rater1"] <2,]
cor(worse_score$overall, worse_score$rater1)
cor(worse_score$spatial, worse_score$rater1)
cor(worse_score$post_tran, worse_score$rater1)
worse_score = rater_data[rater_data[, "rater1"] <2,]
cor(worse_score$overall, worse_score$rater1)
cor(worse_score$spatial, worse_score$rater1)
cor(worse_score$post_tran, worse_score$rater1)
worse_score = rater_data[rater_data[, "rater1"] >1,]
cor(worse_score$overall, worse_score$rater1)
cor(worse_score$spatial, worse_score$rater1)
cor(worse_score$post_tran, worse_score$rater1)
library(MASS)
library(lme4)
library(tidyverse)
rater_mse <- read.csv('./photodraw_summary_mse.csv')
rater_mse$post_tran = scale(rater_mse$post_tran)
rater_mse$spatial = scale(rater_mse$spatial)
rater_mse$overall = rater_mse$spatial + rater_mse$post_tran
ggplot(rater_data, aes(spatial, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("spatial error") +
ylab("human judgment") +
ggtitle('Spatial Error vs. Human judgment')
ggplot(rater_mse, aes(overall, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("shape+spatial error") +
ylab("human judgment") +
ggtitle('Shape+Spatial Error vs. Human judgment')
rater_f1 <- read.csv('./photodraw_summary_f1.csv')
rater_f1$post_tran = scale(rater_f1$post_tran)
rater_f1$spatial = scale(rater_f1$spatial)
rater_f1$overall = rater_f1$spatial + rater_f1$post_tran
ggplot(rater_f1, aes(post_tran, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
install.packages('cowplot')
library(MASS)
library(lme4)
library(tidyverse)
library(cowplot)
library(DescTools)
mse_shape = ggplot(rater_mse, aes(post_tran, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("MSE shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
f1_shape = ggplot(rater_f1, aes(post_tran, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("F1 shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
ncc_shape = ggplot(rater_ncc, aes(post_tran, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("NCC shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
# MSE
rater_mse <- read.csv('./photodraw_summary_mse.csv')
rater_mse$post_tran = scale(rater_mse$post_tran)
rater_mse$spatial = scale(rater_mse$spatial)
rater_mse$overall = rater_mse$spatial + rater_mse$post_tran
# F1
rater_f1 <- read.csv('./photodraw_summary_f1.csv')
rater_f1$post_tran = scale(rater_f1$post_tran)
rater_f1$spatial = scale(rater_f1$spatial)
rater_f1$overall = rater_f1$spatial + rater_f1$post_tran
# NCC
rater_ncc <- read.csv('./photodraw_summary_ncc.csv')
rater_ncc$post_tran = scale(rater_ncc$post_tran)
rater_ncc$spatial = scale(rater_ncc$spatial)
rater_ncc$overall = rater_ncc$spatial + rater_ncc$post_tran
mse_shape = ggplot(rater_mse, aes(post_tran, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("MSE shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
f1_shape = ggplot(rater_f1, aes(post_tran, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("F1 shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
ncc_shape = ggplot(rater_ncc, aes(post_tran, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("NCC shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
plot_grid(mse_shape, f1_shape, ncc_shape, labels = "AUTO")
mse_spatial = ggplot(rater_mse, aes(spatial, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("MSE shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
f1_spatial = ggplot(rater_f1, aes(spatial, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("F1 shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
ncc_spatial = ggplot(rater_ncc, aes(spatial, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("NCC shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
plot_grid(mse_spatial, f1_spatial, ncc_spatial, labels = "AUTO")
mse_spatial = ggplot(rater_mse, aes(spatial, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("MSE spatial error") +
ylab("human judgment") +
ggtitle('Spatial Error vs. Human judgment')
f1_spatial = ggplot(rater_f1, aes(spatial, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("F1 spatial error") +
ylab("human judgment") +
ggtitle('Spatial Error vs. Human judgment')
ncc_spatial = ggplot(rater_ncc, aes(spatial, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("NCC spatial error") +
ylab("human judgment") +
ggtitle('Spatial Error vs. Human judgment')
plot_grid(mse_spatial, f1_spatial, ncc_spatial, labels = "AUTO")
mse_shape = ggplot(rater_mse, aes(post_tran, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("MSE shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
f1_shape = ggplot(rater_f1, aes(post_tran, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("F1 shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
ncc_shape = ggplot(rater_ncc, aes(post_tran, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("NCC shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
plot_grid(mse_shape, f1_shape, ncc_shape, labels = "AUTO")
mse_overall = ggplot(rater_mse, aes(overall, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("shape+spatial error") +
ylab("human judgment") +
ggtitle('Shape+Spatial Error vs. Human judgment')
f1_overall = ggplot(rater_f1, aes(overall, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("shape+spatial error") +
ylab("human judgment") +
ggtitle('Shape+Spatial Error vs. Human judgment')
ncc_overall = ggplot(rater_ncc, aes(overall, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("shape+spatial error") +
ylab("human judgment") +
ggtitle('Shape+Spatial Error vs. Human judgment')
plot_grid(mse_overall, f1_overall, ncc_overall, labels="AUTO")
library(MASS)
library(lme4)
library(tidyverse)
library(cowplot)
library(DescTools)
# MSE
rater_mse <- read.csv('./photodraw_summary_mse.csv')
rater_mse$post_tran = scale(rater_mse$post_tran)
rater_mse$spatial = scale(rater_mse$spatial)
rater_mse$overall = rater_mse$spatial + rater_mse$post_tran
# F1
rater_f1 <- read.csv('./photodraw_summary_f1.csv')
rater_f1$post_tran = scale(rater_f1$post_tran)
rater_f1$spatial = scale(rater_f1$spatial)
rater_f1$overall = rater_f1$spatial + rater_f1$post_tran
# NCC
rater_ncc <- read.csv('./photodraw_summary_ncc.csv')
rater_ncc$post_tran = scale(rater_ncc$post_tran)
rater_ncc$spatial = scale(rater_ncc$spatial)
rater_ncc$overall = rater_ncc$spatial + rater_ncc$post_tran
mse_shape = ggplot(rater_mse, aes(post_tran, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("MSE shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
f1_shape = ggplot(rater_f1, aes(post_tran, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("F1 shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
ncc_shape = ggplot(rater_ncc, aes(post_tran, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("NCC shape error") +
ylab("human judgment") +
ggtitle('Shape Error vs. Human judgment')
plot_grid(mse_shape, f1_shape, ncc_shape, labels = "AUTO")
mse_spatial = ggplot(rater_mse, aes(spatial, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("MSE spatial error") +
ylab("human judgment") +
ggtitle('Spatial Error vs. Human judgment')
f1_spatial = ggplot(rater_f1, aes(spatial, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("F1 spatial error") +
ylab("human judgment") +
ggtitle('Spatial Error vs. Human judgment')
ncc_spatial = ggplot(rater_ncc, aes(spatial, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("NCC spatial error") +
ylab("human judgment") +
ggtitle('Spatial Error vs. Human judgment')
plot_grid(mse_spatial, f1_spatial, ncc_spatial, labels = "AUTO")
mse_overall = ggplot(rater_mse, aes(overall, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("MSE shape+spatial error") +
ylab("human judgment") +
ggtitle('Overall Error vs. Human judgment')
f1_overall = ggplot(rater_f1, aes(overall, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("F1 shape+spatial error") +
ylab("human judgment") +
ggtitle('Overall Error vs. Human judgment')
ncc_overall = ggplot(rater_ncc, aes(overall, rater1, color=tracing_item)) +
geom_point(size=3) +
theme_bw() +
xlab("NCC shape+spatial error") +
ylab("human judgment") +
ggtitle('Overall Error vs. Human judgment')
plot_grid(mse_overall, f1_overall, ncc_overall, labels="AUTO")
cor.test(rater_mse$post_tran, rater_data$rater1)
cor.test(rater_mse$spatial, rater_data$rater1)
cor.test(rater_mse$overall, rater_data$rater1)
cor.test(rater_f1$post_tran, rater_f1$rater1)
cor.test(rater_f1$spatial, rater_f1$rater1)
cor.test(rater_f1$overall, rater_f1$rater1)
cor.test(rater_ncc$post_tran, rater_ncc$rater1)
cor.test(rater_ncc$spatial, rater_ncc$rater1)
cor.test(rater_ncc$overall, rater_ncc$rater1)
rater_mse$rater1 <- factor(rater_mse$rater1, levels = c("0", "1", "2", "3", "4"), ordered=TRUE)
ord_m <- polr(rater1 ~ spatial + post_tran, rater_mse, Hess=TRUE)
summary(ord_m)
ctable <- coef(summary(ord_m))
p <- pnorm(abs(ctable[, "t value"]), lower.tail = FALSE) * 2
(ctable <- cbind(ctable, "p value" = p))
print('exp(coefficient of spatial and post_tran)')
exp(coef(ord_m))
print('pseudo R2')
PseudoR2(ord_m, 'all')
rater_data$rater1 <- factor(rater_f1$rater1, levels = c("0", "1", "2", "3", "4"), ordered=TRUE)
ord_m <- polr(rater1 ~ spatial + post_tran, rater_f1, Hess=TRUE)
rater_f1$rater1 <- factor(rater_f1$rater1, levels = c("0", "1", "2", "3", "4"), ordered=TRUE)
ord_m <- polr(rater1 ~ spatial + post_tran, rater_f1, Hess=TRUE)
summary(ord_m)
ctable <- coef(summary(ord_m))
p <- pnorm(abs(ctable[, "t value"]), lower.tail = FALSE) * 2
(ctable <- cbind(ctable, "p value" = p))
print('exp(coefficient of spatial and post_tran)')
exp(coef(ord_m))
print('pseudo R2')
PseudoR2(ord_m, 'all')
rater_ncc$rater1 <- factor(rater_ncc$rater1, levels = c("0", "1", "2", "3", "4"), ordered=TRUE)
ord_m <- polr(rater1 ~ spatial + post_tran, rater_ncc, Hess=TRUE)
summary(ord_m)
ctable <- coef(summary(ord_m))
p <- pnorm(abs(ctable[, "t value"]), lower.tail = FALSE) * 2
(ctable <- cbind(ctable, "p value" = p))
print('exp(coefficient of spatial and post_tran)')
exp(coef(ord_m))
print('pseudo R2')
PseudoR2(ord_m, 'all')
getwd()
render('pred_rating2.Rmd')
library(rmarkdown)
render('pred_rating2.Rmd')
render('pred_rating2.Rmd')
render('pred_rating2.Rmd')
